<!DOCTYPE html>
<html lang="en">

{{>head fontless=true main=true}}

<body class="main">

	<!-- layout -->
	<div class="root">		
		
		<!-- header -->
		{{>header brand="pion-clinician" active="" logged=true}}

		<!-- mainboard -->
		<main class="main">
			
			<!-- booking -->
			<section class="section board">

				<div class="board-row">
	
					<div class="booking-block">

						<h1 class="title -big">Booking Schedule <div class="title-step">Step 2 of 3</div></h1>
						<div class="booking-body">

							<div class="form-main form-booking">
								<form action="booking-step3.html">
									<div class="booking-row">
										<div class="form-text">
											You are the  
											{{>input type="number" name="child_number" placeholder="Cth: 1" inline=true nolabel="true"}}
											of 
											{{>input type="number" name="child_number" placeholder="Cth: 1" inline=true nolabel="true"}}
											siblings
										</div>
									</div>
									<div class="booking-row">
										<div class="form-text">Family tree (as a child)</div>
										<div class="form-hint">
											<p>Start with the 1st child.</p>
										</div>
										<div id="childRows_0" class="form-text form-cols form-tree">
											{{>input cols="30" type="text" name="childName_0" placeholder="Full Name" inline=true nolabel="true"}}
											{{>select cols="15" type="select" name="childGender_0" placeholder="Gender" inline=true nolabel="true" option="Pria,Wanita"}}
											{{>input cols="25" type="text" name="childAge_0" placeholder="Date of birth" inline=true nolabel="true" function="js-datepicker-now" parent="childAgeContainer_0" readonly="true"}}
											{{>input cols="20" type="text" name="childEdu_0" placeholder="Education" inline=true nolabel="true"}}
											<div class="form-row form-inline form-cols-10">
												<button type="button" class="button -auto -danger -hide form-tree-remove" onclick="removeTreeRows(this)">
													<i class="fa-solid fa-trash-can"></i>
												</button>
												<button type="button" class="button -auto form-tree-add" onclick="addTreeRows(this)">
													<i class="fa-solid fa-plus"></i>
												</button>
											</div>
										</div>
										{{!>textarea placeholder="Eg: 1. Bambang, L,70 tahun, SMA" id="family_tree_child" name="family_tree_child"}}
									</div>
									<div class="booking-row">
										<div class="form-text">Family tree (as a couple/parent)</div>
										<div class="form-hint">
											<p>Start with the father</p>
										</div>
										<div id="parentRows_0" class="form-text form-cols form-tree">
											{{>input cols="30" type="text" name="parentName_0" placeholder="Full Name" inline=true nolabel="true"}}
											{{>select cols="15" type="select" name="parentGender_0" placeholder="Gender" inline=true nolabel="true" option="Pria,Wanita"}}
											{{>input cols="25" type="text" name="parentAge_0" placeholder="Date of birth" inline=true nolabel="true" function="js-datepicker-now" parent="parentAgeContainer_0" readonly="true"}}
											{{>input cols="20" type="text" name="parentEdu_0" placeholder="Education" inline=true nolabel="true"}}
											<div class="form-row form-inline form-cols-10">
												<button type="button" class="button -auto -danger -hide form-tree-remove" onclick="removeTreeRows(this)">
													<i class="fa-solid fa-trash-can"></i>
												</button>
												<button type="button" class="button -auto form-tree-add" onclick="addTreeRows(this)">
													<i class="fa-solid fa-plus"></i>
												</button>
											</div>
										</div>
										{{!>textarea placeholder="Eg: 1. Bambang, L,70 tahun, SMA" id="family_tree_parent" name="family_tree_parent"}}
									</div>
									<div class="booking-row">
										<div class="form-text">Relationship status</div>
										{{>radio label="Not married" id="relationship_not_married" name="relationship"}}
										{{>radio label="Married" id="relationship_married" name="relationship"}}
										{{>radio label="Divorce" id="relationship_divorce" name="relationship"}}
										{{>radio label="Widowed" id="relationship_wodowed" name="relationship"}}
									</div>
									<div class="booking-row">
										<div class="form-text">Problems</div>
										{{>textarea placeholder="Write down your problems" id="complaints" name="complaints" txterror="You need to write your complaints"}}
									</div>
									<div class="booking-row">
										<div class="form-text">Your objectives</div>
										{{>textarea placeholder="Write down your objectives" id="symptoms" name="symptoms"}}
									</div>
									<div class="booking-row booking-action">
										{{>button type="button" label="Back" class="-auto" onclick="window.history.go(-1); return false;"}}
										{{>button type="submit" label="Next" class="-primary -disabled -auto"}}
									</div>
								</form>
							</div>

						</div>

					</div>

				</div>

			</section>

		</main>

		<!-- footer -->
		{{>footer brand="pion-clinician"}}

	</div>

{{>js}}

<script>
	// script untuk keperluan dummy saja
	let ss = document.querySelectorAll("textarea[id=complaints]");
	let fr = document.querySelector("input[type=submit]");
	let sp = false
	if(!!ss) {
		for(let i=0;i<ss.length;i++) {
			ss[i].addEventListener('input', cekInput);
			ss[i].addEventListener('propertychange', cekInput); 
		}
	}
	function cekInput(e) {
		let va = e.target.value;
		for(let i=0;i<ss.length;i++) {
			if (ss[i].value!=='') {
				sp = true
			}
			if(sp) {
				fr.removeAttribute("disabled");
				fr.classList.remove('-disabled')
			}
		}
	} 
</script>

</body>
</html>
